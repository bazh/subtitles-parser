var parser=function(){var r={};r.fromSrt=function(r,t){var n=t?!0:!1;r=r.replace(/\r/g,"");var i=/(\d+)\n(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/g;r=r.split(i),r.shift();for(var a=[],s=0;s<r.length;s+=4)a.push({id:r[s].trim(),startTime:n?e(r[s+1].trim()):r[s+1].trim(),endTime:n?e(r[s+2].trim()):r[s+2].trim(),text:r[s+3].trim()});return a},r.toSrt=function(r){if(!r instanceof Array)return"";for(var e="",n=0;n<r.length;n++){var i=r[n];isNaN(i.startTime)||isNaN(i.endTime)||(i.startTime=t(parseInt(i.startTime,10)),i.endTime=t(parseInt(i.endTime,10))),e+=i.id+"\r\n",e+=i.startTime+" --> "+i.endTime+"\r\n",e+=i.text.replace("\n","\r\n")+"\r\n\r\n"}return e},r.toWebVTT=function(r){if(!r instanceof Array)return"";for(var e,n,i,a="WEBVTT\n\n",s=0;s<r.length;s++){var e=r[s];isNaN(e.startTime)||isNaN(e.endTime)?(n=e.startTime.replace(",","."),i=e.endTime.replace(",",".")):(n=t(parseInt(e.startTime,10),!0),i=t(parseInt(e.endTime,10),!0)),a+=e.id+"\n",a+=n+" --> "+i+"\n",a+=e.text+"\n\n"}return a};var e=function(r){var e=/(\d+):(\d{2}):(\d{2}),(\d{3})/,t=e.exec(r);if(null===t)return 0;for(var n=1;5>n;n++)t[n]=parseInt(t[n],10),isNaN(t[n])&&(t[n]=0);return 36e5*t[1]+6e4*t[2]+1e3*t[3]+t[4]},t=function(r,e){var t=[36e5,6e4,1e3],n=[];for(var i in t){var a=(r/t[i]>>0).toString();a.length<2&&(a="0"+a),r%=t[i],n.push(a)}var s=r.toString();if(s.length<3)for(i=0;i<=3-s.length;i++)s="0"+s;return n.join(":")+(e?".":",")+s};return r}();"object"==typeof exports&&(module.exports=parser);